(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{2261:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quantum",function(){return r(1909)}])},2254:function(e,t,r){"use strict";var i=r(5893),n=r(6046);t.Z=function(e){var t=e.withMenu;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(n.Z,{}),(0,i.jsx)("div",{className:"flex items-center justify-center",style:{background:'url("/assets/images/bg_quantum.jpg") top center no-repeat',backgroundSize:"cover",height:"100vh"},children:(0,i.jsx)("img",{src:"/assets/images/loading.gif",className:"w-[60px] h-[60px] mt-[50px] mx-auto",alt:"loading"})})]})}},3904:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(5893),n=r(4561),a=r(4046);function o(e){var t=e.sym,r=e.current,o=e.ig,s=e.onClick;return(0,i.jsxs)("div",{"data-key":t.name,className:"indice-card mx-[4px] cursor-pointer ".concat(r&&t.price>0?"current":""),onClick:function(){return s(t.key)},children:[(0,i.jsxs)("p",{className:"weight-600 leading-[12px] m-auto",children:[t.name,o&&o.connected?"*":""]}),t.price>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"".concat(t.price>0?"text-positive":"text-negative"),children:(0,a.u)(t.price)}),(0,i.jsx)("p",{className:"".concat(t.vol>0?"text-positive":"text-negative"),children:(0,a.u)(t.vol)}),(0,i.jsxs)("p",{className:"".concat(t.perc>0?"text-positive":"text-negative"),children:[(0,a.u)(t.perc)," %"]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.ZP,{viewBox:"0 0 380 96",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"70"})}),(0,i.jsx)(n.ZP,{viewBox:"0 0 380 96",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"70"})}),(0,i.jsx)(n.ZP,{viewBox:"0 0 380 96",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"70"})})]})]},t.name)}},4570:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(5893);function n(e){var t=e.children,r=e.className,n=e.style;return(0,i.jsx)("header",{className:r,style:n,children:t})}},815:function(e,t,r){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return!1;if(["demo"].indexOf(e.role)>-1)return!1;switch(t){default:return!0;case"quantum":return!("hedging"==r&&["basic"].indexOf(e.role)>-1)&&["admin","pro","basic"].indexOf(e.role)>-1;case"momentum":return["admin"].indexOf(e.role)>-1||["pro","basic"].indexOf(e.momentum)>-1}}r.d(t,{Z:function(){return i}})},1909:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var i=r(4051),n=r.n(i),a=r(5893),o=r(6154),s=r(1163),l=r(7294),c=r(8829),u=r(8489),p=r(4570),f=r(3996),m=r(6046),d={cumnormdist:function(e){var t=.31938153,r=-.356563782,i=1.781477937,n=-1.821255978,a=1.330274429,o=.2316419,s=.39894228,l=0;return e>=0?(l=1/(1+o*e),1-s*Math.exp(-e*e/2)*l*(l*(l*(l*(l*a+n)+i)+r)+t)):(l=1/(1-o*e),s*Math.exp(-e*e/2)*l*(l*(l*(l*(l*a+n)+i)+r)+t))},getStrikeColor:function(e){return e.rendimento.strikePerc>=-2?"#D00C1A":e.rendimento.strikePerc>=-4?"#F5A623":e.rendimento.strikePerc>=-8?"#417504":"#79a447"},calculateEstimation:function(e,t){var r={perc:0,value:0};if(!e.volEstimation||!t)return r;var i=t.find((function(t){return t.key==e.volEstimation}));return i&&i.key&&null!=i.price?(r.perc=Math.round(i.price/3.46410161514*100)/100,r.value=Number(e.price)-Number(e.price)/100*r.perc,r):r},getHumanDate:function(e,t){return e?("string"===typeof e&&(e=new Date(e)),e.getDate()+" "+t[e.getMonth()].substring(0,3)+" "+e.getFullYear()):""},getExpiringDate:function(e){var t=new Date(e),r=t.getMonth(),i=[];for(t.setDate(1);5!==t.getDay();)t.setDate(t.getDate()+1);for(;t.getMonth()===r;)i.push(new Date(t.getTime())),t.setDate(t.getDate()+7);return i[2]},getPriceCls:function(e){return 0===e?null:e<0?"text-negative":"text-positive"},formatStockPrice:function(e){return e>0?"+ ".concat(e):e},punteggioDiRischio:function(e){var t=Number(e.profitStation.numero_contratti)/Number(e.profitStation.capitale)*1e4;return t=Math.min(t,400),Math.round(10*t)/10},numeroDiContrattiMassimi:function(e){return(Number(e.profitStation.premio_incassato)+Number(e.profitStation.capitale))/Number(e.profitStation.prezzo_sicurezza)},premioMensileIncassato:function(e){return Number(e.profitStation.capitale)*Number(e.profitStation.rendimento)/100},prezzoIndicativo:function(e){return Number(e.profitStation.premio_incassato)/Number(e.profitStation.numero_contratti)},rendimento:function(e){var t=Number(e.profitStation.prezzo_apertura);return 100*t/(Number(e.profitStation.prezzo_sicurezza)-t)},prezzo_sicurezza:function(e){Number(e.profitStation.capitale);var t=Number(e.profitStation.rendimento);return Number(e.profitStation.prezzo_apertura)/t*(t+100)},profitto:function(e){var t=Number(e.profitStation.prezzo_apertura),r=Number(e.profitStation.numero_contratti);return t*r-r*Number(e.profitStation.prezzo_simulato)},peso_contratti:function(e){e.profitStation.prezzo_simulato||(e.profitStation.prezzo_simulato=0);var t=(e.profitStation.numero_contratti||0)/(e.profitStation.valore_contratto>0?e.profitStation.valore_contratto:1);return t},giorniDiCalendario:function(e){if(e.probability.scadenza&&e.probability.oggi){var t=new Date(e.probability.scadenza),r=new Date(e.probability.oggi),i=Math.abs(Number(r)-Number(t));return Math.ceil(i/864e5)}return 0},prezzoStimatoCall:function(e){var t=e.probability.interestRate/100,r=e.probability.volatilita/100,i=d.giorniDiCalendario(e),n=Number(e.rendimento.strikePrice),a=Number(e.symbol.price),o=Math.log(a/n),s=t+.5*Math.pow(r,2),l=i/365;return a*d.cumnormdist((o+s*l)/(r*Math.sqrt(i/365)))-n*Math.exp(-t*i/365)*d.cumnormdist((Math.log(a/n)+(t+.5*Math.pow(r,2))*i/365)/(r*Math.sqrt(i/365))-r*Math.sqrt(i/365))},prezzoStimatoPut:function(e){var t=Number(e.symbol.price),r=d.prezzoStimatoCall(e)||0,i=Number(e.rendimento.strikePrice),n=(e.probability.interestRate||0)/100,a=d.giorniDiCalendario(e)||0,o=r+i*Math.exp(-1*n*a/365)-t;return Math.round(100*o)/100},probability:function(e){var t=d.giorniDiCalendario(e),r=Number(e.symbol.price),i=Number(e.rendimento.strikePrice),n=t?t/365:0,a=e.probability.volatilita/100*Math.sqrt(n),o=Math.log(i/r)/a,s=Math.floor(1/(1+.2316419*Math.abs(o))*1e5)/1e5,l=1-Math.floor(.3989423*Math.exp(-o*o/2)*1e5)/1e5*(1.330274*Math.pow(s,5)-1.821256*Math.pow(s,4)+1.781478*Math.pow(s,3)-.356538*Math.pow(s,2)+.3193815*s);return l=Math.floor(1e5*l)/1e5,o<0&&(l=1-l),{above:Math.floor(1e3*l)/10,below:Math.floor(1e3*(1-l))/10}}},x=d,g=r(9491),h=r(1721),v=r(4561),b=r(782),y=r(4046);function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t,r,i=e.data,n=e.setData,o=(0,g.Z)(),s=o.t,p=(o.lang,(0,h.Z)()),m=p.authUser,d=p.loading,k=(p._store,(0,l.useState)(!1)),S=k[0],w=k[1];(0,l.useEffect)((function(){!d&&m&&w(["admin","pro"].indexOf(null===m||void 0===m?void 0:m.role)>-1)}),[m,d]),(0,l.useEffect)((function(){var e;(null===(e=i.symbol)||void 0===e?void 0:e.price)&&N(i)}),[i.symbol,i.rendimento]);var N=function(e){},P=function(e,t,r){var a,o=Object.assign({},i);if(-1==["oggi","scadenza"].indexOf(e)){var l=r?Math.pow(10,r):1;a=Math.round(t*l)/l}else"oggi"===e||"scadenza"===e&&new Date(t)>=new Date(o.probability.oggi)?a=new Date(t).toISOString().split("T")[0]:b.Am.error(s("validation.invalidDate"));o.probability=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){j(e,t,r[t])}))}return e}({},o.probability,j({},e,a)),n(o)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Z,{title:"Calcolatore delle probabilit\xe0",icon:"multiline_chart",foldable:!0,disabled:!S,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"50"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"50"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"50"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 26",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"20"})})]}):(0,a.jsxs)(a.Fragment,{children:[!S&&(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("p",{children:s("pages.profitRisk.upgradePlanToPro")}),(0,a.jsx)(c.Z,{label:"Upgrade a PRO",className:"w-[300px] mx-auto mt-4 bg-[#009a0f]"})]}),S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"date",label:s("pages.profitRisk.todayDate"),value:i.probability.oggi||"",locale:(null===(t=m.pref)||void 0===t?void 0:t.lang)||"it",onChange:function(e){return P("oggi",e)}})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"date",label:s("pages.profitRisk.expirationDate"),value:i.probability.scadenza||"",locale:(null===(r=m.pref)||void 0===r?void 0:r.lang)||"it",onChange:function(e){return P("scadenza",e)}})})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-4 mt-6",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"readonly",value:x.giorniDiCalendario(i)||"-",label:s("pages.profitRisk.daysToExpiration")})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"number",step:.01,min:0,max:100,onChange:function(e){return P("interestRate",e,2)},value:(0,y.u)(i.probability.interestRate,2,!0),label:s("pages.profitRisk.interestRate")})})]}),(0,a.jsx)("div",{className:"w-full mt-4",children:(0,a.jsx)(f.Z,{type:"slider",slider:!0,min:0,max:100,step:.01,label:s("pages.profitRisk.annualVolatility"),value:(0,y.u)(i.probability.volatilita,2,!0),onChange:function(e){return P("volatilita",e,1)},onSlideChange:function(e){return P("volatilita",e.x,1)},isPercent:!0})}),(0,a.jsxs)("div",{className:"flex flex-row gap-4 mt-6",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"readonly",inputSize:"20px",value:(0,y.u)(Math.abs(Number(x.prezzoStimatoCall(i)))),label:s("pages.profitRisk.estimatedPriceCall")})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"readonly",inputSize:"20px",value:(0,y.u)(Math.abs(Number(x.prezzoStimatoPut(i)))),label:s("pages.profitRisk.estimatedPricePut")})})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-4 mt-6",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"readonly",inputSize:"20px",value:"".concat((0,y.u)(x.probability(i).below),"%"),label:s("pages.profitRisk.probabilityHigherThanStrikePrice")})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{type:"readonly",inputSize:"20px",value:"".concat((0,y.u)(x.probability(i).above),"%"),label:s("pages.profitRisk.probabilityLowerThanStrikePrice")})})]})]})]})})})}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=e.curr,r=e.data,i=e.setData,n=(0,g.Z)().t,o=(0,l.useState)(!1),s=o[0],c=o[1],p=(0,l.useState)(""),m=p[0],d=p[1],h=(0,l.useState)(""),b=h[0],j=h[1],k=function(e){e.profitStation.valore_contratto<1&&(e.profitStation.valore_contratto=1),"prezzo_apertura"==m&&(e.profitStation.rendimento=x.rendimento(e)),e.profitStation.premio_incassato=x.premioMensileIncassato(e),e.profitStation.numero_contratti=x.numeroDiContrattiMassimi(e),"prezzo_apertura"!=m&&(e.profitStation.prezzo_apertura=x.prezzoIndicativo(e)),e.profitStation.profitto_simulato=x.profitto(e),e.profitStation.rischio=x.punteggioDiRischio(e),e.profitStation.force_calc=!1;Math.round(100*Number(e.profitStation.numero_contratti)),Math.round(100*Number(e.profitStation.premio_incassato)),Math.round(100*Number(e.profitStation.premio_incassato));s||c(!0),i(e)};r.profitStation.force_calc&&k(r);var w=function(e,t,i){var n=i?Math.pow(10,i):1,a=Math.round(Number(t)*n)/n,o=Object.assign({},r),s=parseFloat(a.toFixed(i||0));o.profitStation=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){S(e,t,r[t])}))}return e}({},o.profitStation,S({},e,Number(s))),k(o),localStorage.setItem("profit-risk-data",JSON.stringify(o))};return(0,l.useEffect)((function(){r.profitStation.prezzo_apertura||k(r)}),[]),(0,l.useEffect)((function(){j("eur"===t?"\u20ac":"usd"==t?"$":""),k(r)}),[t]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Z,{title:"Profit Station",icon:"insights",foldable:!0,children:s?(0,a.jsxs)("div",{className:"flex flex-col gap-[24px]",children:[(0,a.jsx)(f.Z,{type:"number",info:n("pages.profitRisk.startingCapitalTooltip"),className:"no-margin",label:n("pages.profitRisk.startingCapital"),onFocus:function(){return d("capitale")},value:(0,y.u)(r.profitStation.capitale,0,!0),onChange:function(e){return w("capitale",e)}}),(0,a.jsx)(f.Z,{type:"slider",slider:!0,min:0,max:100,step:.01,info:n("pages.profitRisk.expectedReturnTooltip"),label:n("pages.profitRisk.expectedReturn"),value:(0,y.u)(r.profitStation.rendimento,2,!0),onFocus:function(){return d("rendimento")},onChange:function(e){return w("rendimento",e,2)},onSlideChange:function(e){return w("rendimento",e.x,2)},isPercent:!0}),(0,a.jsx)(f.Z,{type:"slider",slider:!0,min:1,max:600,step:.01,info:n("pages.profitRisk.safetyPriceTooltip"),label:n("pages.profitRisk.safetyPrice"),onFocus:function(){return d("prezzo_sicurezza")},value:(0,y.u)(r.profitStation.prezzo_sicurezza,2,!0),onChange:function(e){return w("prezzo_sicurezza",e,2)},onSlideChange:function(e){return w("prezzo_sicurezza",e.x,2)}}),(0,a.jsx)(f.Z,{type:"none",label:n("pages.profitRisk.riskScore"),info:n("pages.profitRisk.riskScoreTooltip"),children:(0,a.jsxs)("div",{className:"lineargauge",children:[(0,a.jsxs)("div",{className:"indicator",style:{left:Number(r.profitStation.rischio)/400*100+"%"},children:[(0,a.jsx)("div",{className:"dot"}),(0,a.jsx)("p",{className:"font-16 weight-600 text-secondary",children:(0,y.u)(r.profitStation.rischio,0)})]}),(0,a.jsx)("div",{className:"bar"}),(0,a.jsxs)("div",{className:"bar-description",children:[(0,a.jsx)("div",{className:"basso",children:"0"}),(0,a.jsx)("div",{className:"medio",children:"70"}),(0,a.jsx)("div",{className:"alto",children:"170"}),(0,a.jsx)("div",{className:"estremo",children:"270"}),(0,a.jsx)("div",{className:"end",children:"400"})]})]})}),(0,a.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,a.jsx)("div",{className:"w-[50%]",children:(0,a.jsx)(f.Z,{type:"readonly",info:n("pages.profitRisk.cashedMontlyPriceTooltip"),label:n("pages.profitRisk.cashedMontlyPrice"),inputColor:"#43a047",inputSize:"20px",value:(0,y.u)(r.profitStation.premio_incassato)+(0,y.z)(r.symbol.currency)})}),(0,a.jsx)("div",{className:"w-[50%]",children:(0,a.jsx)(f.Z,{type:"number",info:n("pages.profitRisk.indicativePriceForOpeningTooltip"),label:n("pages.profitRisk.indicativePriceForOpening"),value:(0,y.u)(r.profitStation.prezzo_apertura,3,!0),step:.01,min:0,className:"no-margin",onFocus:function(){return d("prezzo_apertura")},onChange:function(e){return w("prezzo_apertura",e,2)}})})]}),(0,a.jsxs)("div",{className:"flex flex-row mt-5 gap-4",children:[(0,a.jsx)("div",{className:"w-[50%]",children:(0,a.jsx)(f.Z,{type:"readonly",info:n("pages.profitRisk.numberOfMaximumContractsTooltip"),label:n("pages.profitRisk.numberOfMaximumContracts"),value:(0,y.u)(x.peso_contratti(r),4)})}),(0,a.jsx)("div",{className:"w-[50%]",children:(0,a.jsx)(f.Z,{type:"number",info:n("pages.profitRisk.contractsWeightTooltip"),label:n("pages.profitRisk.contractsWeight"),min:1,onFocus:function(){return d("valore_contratto")},value:(0,y.u)(r.profitStation.valore_contratto,2,!0),onChange:function(e){return w("valore_contratto",e)}})})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,a.jsx)("div",{className:"w-[50%]",children:(0,a.jsx)(f.Z,{type:"number",info:n("pages.profitRisk.simulatedPriceTooltip"),label:n("pages.profitRisk.simulatedPrice"),onFocus:function(){return d("prezzo_simulato")},step:.01,after:b,value:(0,y.u)(r.profitStation.prezzo_simulato,2,!0),onChange:function(e){return w("prezzo_simulato",e,2)}})}),(0,a.jsx)("div",{className:"w-[50%]",children:(0,a.jsx)(f.Z,{type:"readonly",info:n("pages.profitRisk.simulatedProfitLossTooltip"),label:n("pages.profitRisk.simulatedProfitLoss"),onFocus:function(){return d("profitto_simulato")},className:"text-[#15477a]",value:"".concat((0,y.u)(r.profitStation.profitto_simulato,2)).concat((0,y.z)(r.symbol.currency))})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.ZP,{viewBox:"0 0 380 26",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"20"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 26",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"20"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 26",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"20"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 26",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"20"})}),(0,a.jsxs)("div",{className:"flex gap-4 mt-1",children:[(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"40"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"40"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"40"})})]}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"40"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"40"})}),(0,a.jsx)(v.ZP,{viewBox:"0 0 380 56",children:(0,a.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"380",height:"40"})})]})]})]})})})}var N=r(4755),P=r(9198),z=r(8160);function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t,r=e.data,i=(e.symbols,e.refreshingStrike,e.refreshStrike,e.setData),n=(0,g.Z)(),o=n.t,s=(n.lang,(0,l.useState)(!1)),c=s[0],p=s[1],m=(0,l.useState)(!1),d=(m[0],m[1]);(0,l.useEffect)((function(){var e=Object.assign({},r);if(d(!1),-1===["sp500","eu50"].indexOf(r.symbol.key))e.rendimento.season={lastMonth:null,min1:null,min2:null,max1:null,max2:null,avg:null,avg2:null},i(e);else{var t=new Date(r.rendimento.month).getMonth(),n=new Date(r.rendimento.month);n.setMonth(n.getMonth()-1),(0,N.UG)(r.symbol.key).then((function(r){if(r){var a=0,s=0,l=0,c=[];n.getFullYear()in r&&!r[n.getFullYear()]||(e.rendimento.season.lastMonth=r[n.getFullYear()][n.getMonth()],Object.keys(r).map((function(e){r[e][t]&&(c.push({value:Number(r[e][t]),year:Number(e)}),a+=r[e][t],l++)})),null===c||void 0===c||c.sort((function(e,t){return e.value>t.value?1:-1})),e.rendimento.season.min1=c[0],e.rendimento.season.min2=c[1],e.rendimento.season.max1=c[c.length-1],e.rendimento.season.max2=c[c.length-2],c.splice(0,3),(c=c.slice(0,-3)).map((function(e){return s+=e.value})),e.rendimento.season.avg2=Number(s)/(c.length||1),e.rendimento.season.avg=a/l,e.rendimento.season.thisMonthString=o("month."+t),e.rendimento.season.lastMonthString=o("month."+n.getMonth())+" "+n.getFullYear(),d(!0),i(e))}}))}}),[r.rendimento.month,r.symbol.key]),(0,l.useEffect)((function(){var e=x.getExpiringDate(r.rendimento.month.toString()),t=Object.assign({},r);t.rendimento.expire=e.toISOString(),i(t)}),[r.rendimento.month]),(0,l.useEffect)((function(){return h(r)}),[]);var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Number(e.symbol.price),n=0,a=0;switch(e.rendimento.force_calc=!1,e.rendimento.strikePerc||"strikePerc"==t||(e.rendimento.strikePerc=-11),t){default:case"price":e.rendimento.strikePerc=-1*(1-e.rendimento.strikePrice/r)*100,t||p(!0);break;case"strikePrice":a=-1*(1-e.rendimento.strikePrice/r)*100,e.rendimento.strikePerc=parseFloat(a.toFixed(2)),e.rendimento.strikePnt=n-r;break;case"strikePerc":n=Number(r+r*Number(e.rendimento.strikePerc)/100),e.rendimento.strikePrice=Number(n),e.rendimento.strikePnt=n-r}i(e)};r.rendimento.force_calc&&h(r);var v=function(e,t){var n=Object.assign({},r);n.rendimento=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){O(e,t,r[t])}))}return e}({},n.rendimento,O({},e,t)),["strikePerc","strikePrice"].indexOf(e)>-1?h(n,e):i(n)};return(0,a.jsx)(u.Z,{title:o("pages.profitRisk.yieldCalculator"),icon:"calculate",foldable:!0,children:(0,a.jsxs)("div",{className:"flex flex-col gap-[24px]",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-[24px]",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{loading:!c,type:"number",info:o("pages.profitRisk.underlyingPriceTodayTooltip"),label:o("pages.profitRisk.underlyingPriceToday"),value:(0,y.u)(null===(t=r.symbol)||void 0===t?void 0:t.price,0,!0),step:1,onChange:function(e){return function(e){var t=Object.assign({},r);t.symbol.price=e,h(t,"price")}(e)}})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{loading:!c,type:"number",label:"Strike Price Level",info:o("pages.profitRisk.strikePriceLevelTooltip"),value:(0,y.u)(r.rendimento.strikePrice,0,!0),step:1,onChange:function(e){return v("strikePrice",e)}})})]}),(0,a.jsx)("div",{className:"flex flex-row gap-[24px] ",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(f.Z,{loading:!c,type:"number",className:"no-margin",info:o("pages.profitRisk.distanceFromStrikePriceTooltip"),label:o("pages.profitRisk.distanceFromStrikePrice"),value:(0,y.u)(r.rendimento.strikePerc,2,!0),step:.01,onChange:function(e){return v("strikePerc",e)},styleInput:{color:x.getStrikeColor(r),fontSize:20,fontWeight:600},after:"%",note:"".concat(o("pages.profitRisk.distanceFromStrikePricePoints"),": ").concat((0,y.u)(Number(r.symbol.price)-Number(r.rendimento.strikePrice),0))})})})]})})}(0,P.registerLocale)("it",z.Z);var Z=r(3904),M=r(4893),R=(JSON.parse('[{"name":"Black Swan","rendimento":{"strikePerc":9.76},"profitStation":{"rapporto":0.1386666},"probability":{"volatilita":80,"days":30}},{"name":"Safe","rendimento":{"strikePerc":4.9},"profitStation":{"rapporto":0.0717777},"probability":{"volatilita":40,"days":30}},{"name":"Normal","rendimento":{"strikePerc":0},"profitStation":{"rapporto":0.04555555},"probability":{"volatilita":40,"days":30}},{"name":"Aggressive","rendimento":{"strikePerc":-1.1},"profitStation":{"rapporto":0.03711111},"probability":{"volatilita":37,"days":30}},{"name":"Speculative","rendimento":{"strikePerc":-1.96},"profitStation":{"rapporto":0.02555555},"probability":{"volatilita":30,"days":30}}]'),r(8100)),D=function(){var e=(0,g.Z)().t;return(0,a.jsx)("div",{style:{fontSize:10,padding:10},children:e("common.disclaimer")})},C=r(6293),E=r(8161),F=r(2262),T=r(815),I=r(2254);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function B(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(i,n)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){B(a,i,n,o,s,"next",e)}function s(e){B(a,i,n,o,s,"throw",e)}o(void 0)}))}}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){A(e,t,r[t])}))}return e}function U(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Z.Z&&null!=e[Z.Z.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(){var e=(0,h.Z)(),t=e.authUser,r=e.loading,i=e._signOut,d=e._store,x=e.isLoggedin,v=((0,R.kY)().mutate,(0,g.Z)().t),y=(0,F.Z)().isLg,j=(0,l.useRef)(null),S=(0,s.useRouter)(),N=(0,l.useState)(!1),P=N[0],z=N[1],O=(0,l.useState)(!1),X=O[0],B=O[1],A=(0,l.useState)(""),L=A[0],Y=A[1],J=(0,l.useState)(-1),H=J[0],W=J[1],$=(0,l.useState)([]),G=($[0],$[1]),Q=(0,l.useState)("3"),K=Q[0],ee=Q[1],te=(0,l.useState)("sp500"),re=te[0],ie=te[1],ne=(0,l.useState)({key:"",name:"",price:0,vol:0,perc:0,ig:"",stockdio:"",currency:"",tradeable:[],platform:[]}),ae=ne[0],oe=ne[1],se=(0,l.useState)(M.filter((function(e){return e.platform.indexOf("quantum")>-1}))),le=se[0],ce=se[1],ue=(0,l.useState)(!1),pe=ue[0],fe=ue[1],me=(0,l.useState)(-1),de=(me[0],me[1],(0,l.useState)({name:"",rendimento:{strikePerc:-11.11,strikePrice:0,strikePnt:0,month:new Date,season:{lastMonth:null,min1:null,min2:null,max1:null,max2:null,avg:null,avg2:null}},profitStation:{capitale:1e3,rendimento:20,prezzo_sicurezza:125,valore_contratto:1,prezzo_simulato:0},prices:[],symbol:ae,probability:{oggi:(new Date).toISOString().split("T")[0],scadenza:"",volatilita:20,interestRate:0},marginCall:{broker:"ig",ig:{assorbimento:2},plus500:{margineRichiesto:20,margineMantenimento:10}}})),xe=de[0],ge=de[1];(0,l.useEffect)((function(){if(localStorage.getItem("profit-risk")){var e,t=JSON.parse(localStorage.getItem("profit-risk"));if(t.probability.oggi&&(t.probability.oggi=new Date(t.probability.oggi).toISOString().split("T")[0]),t.rendimento.month&&(t.rendimento.month=new Date(t.rendimento.month)),t.symbol.price<1&&t.symbol.key)t.symbol.price=null===(e=null===le||void 0===le?void 0:le.find((function(e){return e.key==t.symbol.key})))||void 0===e?void 0:e.price;ge(t)}z(!0)}),[]),(0,l.useEffect)((function(){if(le&&!xe.symbol.key){var e=le.filter((function(e){return e.key==re}))[0];oe(e)}}),[xe.symbol,le,re]),(0,l.useEffect)((function(){P&&localStorage.setItem("profit-risk",JSON.stringify(xe))}),[xe]),(0,l.useEffect)((function(){if(re&&le){var e=le.filter((function(e){return e.key==re}))[0];oe(e)}}),[re]),(0,l.useEffect)((function(){if(ae.key){var e=Object.assign({},xe);if(e.symbol=Object.assign({},ae),e.rendimento.force_calc=!0,e.symbol.volEstimation){var t,r=null===(t=null===le||void 0===le?void 0:le.find((function(t){return t.key===e.symbol.volEstimation})))||void 0===t?void 0:t.price;e.probability.volatilita=Number(r||20)}ge(e),ye(e)}}),[ae]),(0,l.useEffect)((function(){if(x(t)||(i(),S.push("/login")),!r&&t){fe((0,T.Z)(t,"quantum")),ee(t&&t.pref&&t.pref.currency?t.pref.currency:"eur"),G(t.profitRisk);var e=U(le),a=function(){var t=q(n().mark((function t(){var r,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/stock_data_stock");case 2:r=t.sent,r.data.data.prices.values.map((function(t){e.map((function(r,i){t[0]==r.stockdio&&(e[i].price=t[2],e[i].vol=t[3],e[i].perc=t[4])}))})),ce(e),i=e.find((function(e){return e.key===ae.key})),oe(V({},ae,{price:Number(null===i||void 0===i?void 0:i.price)}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a().catch(console.error)}}),[t,r]);!function(){var e=q(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.hi(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}();var he=(0,l.useState)(!1),ve=he[0],be=he[1],ye=function(e){e||Object.assign({},xe);be(!0),be(!1)},je=(0,l.useState)(!1),ke=(je[0],je[1],(0,l.useState)([])),Se=(ke[0],ke[1],(0,l.useState)(0)),we=Se[0],Ne=(Se[1],(0,l.useState)(!1)),Pe=Ne[0];Ne[1];return!t||r?(0,a.jsx)(I.Z,{withMenu:!0}):(0,a.jsxs)("div",{className:"lg:flex pb-[100px] lg:pb-0 h-full",children:[(0,a.jsx)(E.Z,{title:"Quantum Station"}),X&&(0,a.jsx)("div",{className:"modal-save",children:(0,a.jsxs)(u.Z,{title:v("pages.profitRisk.modalHeader"),children:[(0,a.jsx)(f.Z,{label:v("pages.profitRisk.modalInput"),value:L,onChange:function(e){return Y(e.target.value)}}),(0,a.jsx)(c.Z,{label:v("pages.profitRisk.saveBtn"),className:"w-[150px] mx-auto",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=Object.assign({},xe);if(e)t.profitRisk[H]=r,d({profitRisk:t.profitRisk}),B(!1);else{if(!L)return;r.name=L,t.profitRisk.push(r),d({profitRisk:t.profitRisk}),B(!1),Y(""),W(t.profitRisk.length-1)}G(t.profitRisk),b.Am.success(v("pages.profitRisk.savedOkMessage"))}()}})]})}),(0,a.jsx)(m.Z,{active:"profit-risk"}),pe||r?(0,a.jsxs)("div",{className:"w-full relative",ref:j,children:[(0,a.jsx)(p.Z,{className:"flex w-full justify-around items-center h-[150px] py-3 mb-3 z-[1000]",children:le&&(0,a.jsx)("div",{className:"flex w-full justify-center",children:null===le||void 0===le?void 0:le.map((function(e){return(0,a.jsx)(Z.Z,{sym:e,current:re===e.key,onClick:function(t){return e.tradeable.indexOf("quantum")>-1&&ie(t)}},e.key)}))})}),(0,a.jsx)("div",{className:"mt-5",style:{transition:"0.5s ease all",paddingTop:Pe?-1*we:0},children:(0,a.jsxs)("div",{className:"lg:flex flex-row gap-[24px]",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col gap-[24px]",children:[(0,a.jsx)(_,{data:xe,refreshingStrike:ve,symbols:le,setData:ge,refreshStrike:ye}),y?(0,a.jsx)(k,{data:xe,setData:ge}):(0,a.jsx)(w,{data:xe,setData:ge,curr:K})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"mt-5 lg:mt-0",children:y?(0,a.jsx)(w,{data:xe,setData:ge,curr:K}):(0,a.jsx)(k,{data:xe,setData:ge})})})]})}),(0,a.jsx)(D,{})]}):(0,a.jsxs)("div",{className:"text-center w-full flex flex-col justify-center ",children:["Per utilizzare la piattaforma quantum aggiorna il tuo piano",(0,a.jsx)(c.Z,{label:"Upgrade",className:"w-[300px] mx-auto mt-4 bg-[#009a0f]"})]}),(0,a.jsx)(b.Ix,{position:"top-right",autoClose:5e3,closeOnClick:!0})]})}},4046:function(e,t,r){"use strict";r.d(t,{z:function(){return i},u:function(){return n}});var i=function(e){switch(e){case"eur":return"\u20ac";case"usd":return"$";case"gbp":return"\xa3"}return""},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Math.pow(10,t),n=Math.round(Number(e)*i)/i;return r?n:n.toLocaleString("it-IT",{minimumFractionDigits:t})}},4893:function(e){"use strict";e.exports=JSON.parse('[{"key":"sp500","name":"SP500","currency":"usd","price":null,"vol":null,"perc":null,"ig":"IX.D.SPTRD.IFD.IP","stockdio":"^SPXF","hierarchy":346003,"volEstimation":"vix","tradeable":["quantum"],"platform":["quantum"],"twelve":"SPX"},{"key":"eu50","name":"EU50","currency":"eur","price":null,"vol":null,"perc":null,"ig":"IX.D.STXE.IFD.IP","stockdio":"^STOXX50E","hierarchy":302518,"volEstimation":"vstoxx","tradeable":["quantum"],"platform":["quantum"],"twelve":"STOXX50E"},{"key":"vix","name":"VIX","currency":"usd","price":null,"vol":null,"perc":null,"ig":"CC.D.VIX.UME.IP","stockdio":"^VIX","tradeable":["momentum"],"platform":["quantum","momentum"],"twelve":"VIX"},{"key":"vix_futures","name":"VIX Futures","currency":"usd","price":null,"vol":null,"perc":null,"ig":"CC.D.VIX.UME.IP","stockdio":"^VX","tradeable":["momentum"],"platform":["momentum"]},{"key":"vstoxx","name":"VSTOXX","currency":"eur","price":null,"vol":null,"perc":null,"ig":"CC.D.VSTOXX.UNC.IP","stockdio":"^V2TX","tradeable":[],"platform":["quantum"],"twelve":"V2TX"}]')}},function(e){e.O(0,[624,782,154,100,293,628,335,774,888,179],(function(){return t=2261,e(e.s=t);var t}));var t=e.O();_N_E=t}]);